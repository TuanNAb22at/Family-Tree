/* Keep breadcrumb aligned like Security Audit page */
.main-content > #breadcrumbs {
    position: static !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: auto !important;
}
.main-content > #breadcrumbs.breadcrumbs-fixed + .main-content-inner .page-content {
    padding-top: 8px !important;
}
/* Keep layout stable across components */
    #mediaApp, #mediaApp * { box-sizing: border-box; }
    #mediaApp {
        font-family: "Segoe UI", Tahoma, Arial, sans-serif;
        color: #1e293b;
        line-height: 1.45;
    }
    #mediaApp input, #mediaApp button, #mediaApp select, #mediaApp textarea {
        font-family: inherit;
    }

    #mediaApp .container-fluid{width:100%;padding-left:12px;padding-right:12px;margin:0 auto}
                        .media-page { display: grid; grid-template-columns: minmax(480px, var(--left-fr, 1.05fr)) minmax(420px, var(--right-fr, 0.95fr)); gap: 1rem; align-items: stretch; }
                        .media-main { flex: 1; min-width: 0; display: flex; flex-direction: column; background: #fff; border-radius: 0.75rem; border: 1px solid #e7e5e4; overflow: hidden; }
                        .media-sidebar { width: auto; min-width: 0; background: #fff; border-radius: 0.75rem; border: 1px solid #e7e5e4; display: flex; flex-direction: column; overflow: hidden; }

                        .media-toolbar { padding: 0.75rem 1rem; border-bottom: 1px solid #e7e5e4; display: grid; grid-template-columns: minmax(0, 1fr) auto; align-items: center; gap: 0.75rem; }
                        .media-toolbar-left { display: flex; align-items: center; gap: 0.75rem; min-width: 0; }
                        .media-toolbar h2 { font-size: 1.42rem; font-weight: 700; color: #1e293b; margin: 0; white-space: nowrap; }
                        .media-search { position: relative; width: 100%; max-width: 420px; }
                        .media-search input { padding: 0.62rem 0.84rem 0.62rem 2.25rem; border: 1px solid #e7e5e4; border-radius: 0.5rem; font-size: 16px; width: 100%; min-width: 0; background: #fafaf9; }
                        .media-search input::placeholder { font-size: 16px; color: #94a3b8; }
                        .media-search input:focus { outline: none; border-color: #047857; box-shadow: 0 0 0 3px rgba(4,120,87,0.1); }
                        .media-search i { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #94a3b8; font-size: 0.8rem; }
                        .media-toolbar .btn-group { display: flex; gap: 0.5rem; align-items: center; justify-self: end; flex-wrap: nowrap; }
                        .media-filter-select { padding: 0.56rem 0.72rem; border: 1px solid #e7e5e4; border-radius: 0.5rem; background: #fff; color: #334155; font-size: 14px; width: 220px; min-width: 220px; max-width: 220px; }
                        .media-filter-select option { font-size: 14px; }
                        .media-toolbar .btn-group .btn-media-primary { flex: 0 0 auto; }

                        .btn-media-outline { display: flex; align-items: center; gap: 0.4rem; padding: 0.58rem 0.9rem; border: 1px solid #e7e5e4; border-radius: 0.5rem; background: #fff; color: #64748b; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.15s; }
                        .btn-media-outline:hover { border-color: #047857; color: #047857; background: #f0fdf4; }
                        .btn-media-primary { display: flex; align-items: center; gap: 0.4rem; padding: 0.58rem 1.1rem; border: none; border-radius: 0.5rem; background: #047857; color: #fff; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.15s; }
                        .btn-media-primary:hover { background: #065f46; box-shadow: 0 2px 8px rgba(4,120,87,0.25); }

                        .media-upload-zone { margin: 0.75rem 1rem; border: 2px dashed #d6d3d1; border-radius: 0.75rem; padding: 1.25rem; text-align: center; background: #fafaf9; transition: all 0.2s; cursor: pointer; }
                        .media-upload-zone:hover { border-color: #047857; background: #f0fdf4; }
                        .media-upload-zone .upload-icon { width: 36px; height: 36px; border-radius: 50%; background: #d1fae5; color: #047857; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 0.4rem; font-size: 1rem; }
                        .media-upload-zone p { font-size: 1.04rem; font-weight: 500; color: #1e293b; margin: 0; }
                        .media-upload-zone span { font-size: 0.96rem; color: #94a3b8; }
                        .media-upload-zone.readonly { cursor: not-allowed; border-style: solid; border-color: #e2e8f0; background: #f8fafc; }
                        .media-upload-zone.readonly .upload-icon { background: #e2e8f0; color: #64748b; }

                        .media-grid { overflow-y: auto; max-height: 560px; padding: 0.75rem 1rem 1rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(190px, 1fr)); gap: 0.85rem; align-content: start; }
                        .media-card { position: relative; aspect-ratio: 1; border-radius: 0.75rem; overflow: hidden; border: 2px solid transparent; cursor: pointer; transition: all 0.2s; background: #f5f5f4; }
                        .media-card:hover { border-color: #a7f3d0; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
                        .media-card.active { border-color: #047857; box-shadow: 0 0 0 3px rgba(4,120,87,0.15); }
                        .media-card img { width: 100%; height: 100%; object-fit: cover; }
                        .media-card .card-overlay { position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.92); backdrop-filter: blur(4px); padding: 0.5rem 0.65rem; border-top: 1px solid #f5f5f4; }
                        .media-card .card-overlay .name { font-size: 0.98rem; font-weight: 600; color: #1e293b; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
                        .media-card .card-overlay .size { font-size: 0.9rem; color: #94a3b8; }
                        .media-card .badge-type { position: absolute; top: 0.5rem; right: 0.5rem; background: rgba(0,0,0,0.6); color: #fff; font-size: 0.65rem; font-weight: 600; padding: 0.15rem 0.4rem; border-radius: 0.25rem; display: flex; align-items: center; gap: 0.25rem; }

                        .sidebar-preview { background: #f8fafc; display: flex; align-items: center; justify-content: center; min-height: 430px; max-height: 620px; overflow: auto; padding: 0; }
                        .sidebar-preview .preview-media { display: block; margin: auto; width: auto; height: auto; max-width: 100%; max-height: 100%; object-fit: contain; }
                        .audio-thumb { width: 100%; height: 100%; display:flex; align-items:center; justify-content:center; background: linear-gradient(135deg,#1f2937,#111827); color:#fff; }
                        .audio-thumb i { font-size: 2.6rem; opacity: 0.95; }
                        .sidebar-body { overflow-y: auto; padding: 1.1rem; }
                        .sidebar-body h3 { font-size: 1.3rem; font-weight: 700; color: #1e293b; margin-bottom: 0.45rem; word-break: break-all; }
                        .sidebar-meta { display: flex; gap: 0.6rem; font-size: 1.05rem; color: #64748b; margin-bottom: 1rem; flex-wrap: wrap; }
                        .sidebar-section { padding-top: 0.9rem; border-top: 1px solid #f5f5f4; margin-top: 0.85rem; }
                        .sidebar-section h4 { font-size: 1.12rem; font-weight: 800; color: #1e293b; margin-bottom: 0.7rem; }
                        .sidebar-field { display: flex; justify-content: space-between; padding: 0.54rem 0; font-size: 1.05rem; background: transparent; }
                        .sidebar-field .label { color: #64748b; font-size: 1rem; background: transparent; }
                        .sidebar-field .value { color: #1e293b; font-weight: 600; background: transparent; padding: 0; border-radius: 0; font-size: 1.05rem; }
                        .link-info-section,
                        .link-info-section .sidebar-field,
                        .link-info-section .sidebar-field .label,
                        .link-info-section .sidebar-field .value {
                            background: transparent !important;
                            border: none !important;
                            box-shadow: none !important;
                        }
                        .tag { display: inline-flex; align-items: center; gap: 0.25rem; padding: 0.2rem 0.6rem; border-radius: 1rem; font-size: 0.72rem; font-weight: 500; }
                        .tag-green { background: #d1fae5; color: #047857; }
                        .tag-blue { background: #dbeafe; color: #1d4ed8; }

                        .sidebar-empty { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 500px; color: #94a3b8; text-align: center; padding: 2rem; }
                        .sidebar-empty i { font-size: 2.5rem; margin-bottom: 0.75rem; color: #d6d3d1; }
                        .sidebar-section .btn-media-outline { font-size: 1rem; padding: 0.72rem 0.95rem; font-weight: 600; }
                        .permission-note { margin: 0; padding: 0.15rem 0; border-radius: 0; font-size: 0.92rem; line-height: 1.45; border: none; background: transparent; color: #334155; }
                        .permission-note.can-edit { color: #065f46; }
                        .permission-note.read-only { color: #334155; }
                        /* Make sidebar/action text larger and consistent */
                        .sidebar-section h4,
                        .sidebar-field,
                        .sidebar-field .label,
                        .sidebar-field .value,
                        .permission-note,
                        .sidebar-section .btn-media-outline,
                        .sidebar-section .btn-media-primary {
                            font-size: 16px !important;
                        }
                        .sidebar-section .tag {
                            font-size: 16px !important;
                        }
                        .sidebar-section h4 {
                            font-family: "Segoe UI", Tahoma, Arial, sans-serif !important;
                            font-weight: 700 !important;
                            text-transform: none !important;
                            letter-spacing: normal !important;
                        }

                        @media (max-width: 1280px) {
                            .media-page { grid-template-columns: 1fr; }
                            .media-sidebar { width: 100%; min-width: 0; }
                            .media-grid { max-height: 460px; }
                        }
                        @media (max-width: 1024px) {
                            .media-toolbar {
                                grid-template-columns: 1fr;
                            }
                            .media-toolbar .btn-group {
                                justify-self: start;
                                width: 100%;
                            }
                        }
                        @media (max-width: 860px) {
                            .media-toolbar-left {
                                min-width: 100%;
                                flex-wrap: wrap;
                            }
                            .media-search {
                                width: 100%;
                                max-width: none;
                            }
                            .media-search input {
                                width: 100%;
                                min-width: 0;
                            }
                            .media-toolbar .btn-group {
                                width: 100%;
                                justify-content: flex-start;
                                flex-wrap: wrap;
                            }
                            .media-filter-select {
                                flex: 1 1 220px;
                                min-width: 0;
                                width: auto;
                                max-width: none;
                            }
                        }

                        .app-dialog-backdrop {
                            position: fixed;
                            inset: 0;
                            background: rgba(15, 23, 42, 0.56);
                            display: none;
                            align-items: center;
                            justify-content: center;
                            z-index: 3000;
                            padding: 1rem;
                        }
                        .app-dialog {
                            width: 100%;
                            max-width: 560px;
                            background: #ffffff;
                            border-radius: 0.8rem;
                            border: 1px solid #e7e5e4;
                            box-shadow: 0 20px 50px rgba(2, 8, 23, 0.24);
                            overflow: hidden;
                        }
                        .app-dialog-header {
                            padding: 0.9rem 1rem 0.5rem;
                            border-bottom: 1px solid #f1f5f9;
                        }
                        .app-dialog-title {
                            margin: 0;
                            font-size: 1.05rem;
                            color: #0f172a;
                            font-weight: 700;
                        }
                        .app-dialog-body {
                            padding: 0.9rem 1rem;
                            color: #334155;
                            font-size: 0.96rem;
                        }
                        .app-dialog-message {
                            margin: 0 0 0.6rem;
                            line-height: 1.5;
                            white-space: pre-wrap;
                        }
                        .app-dialog-list {
                            margin: 0.5rem 0 0;
                            padding-left: 1.1rem;
                            max-height: 180px;
                            overflow: auto;
                        }
                        .app-dialog-list li {
                            margin: 0.25rem 0;
                            word-break: break-word;
                        }
                        .app-dialog-input-wrap {
                            margin-top: 0.6rem;
                            display: none;
                        }
                        .app-dialog-label {
                            display: block;
                            margin-bottom: 0.3rem;
                            color: #64748b;
                            font-size: 0.86rem;
                        }
                        .app-dialog-input {
                            width: 100%;
                            border: 1px solid #cbd5e1;
                            border-radius: 0.5rem;
                            padding: 0.62rem 0.72rem;
                            font-size: 0.95rem;
                            color: #0f172a;
                        }
                        .app-dialog-input:focus {
                            outline: none;
                            border-color: #047857;
                            box-shadow: 0 0 0 3px rgba(4, 120, 87, 0.12);
                        }
                        .app-dialog-actions {
                            display: flex;
                            justify-content: flex-end;
                            gap: 0.55rem;
                            padding: 0.85rem 1rem 1rem;
                            border-top: 1px solid #f1f5f9;
                            background: #fafafa;
                        }
                        .btn-dialog-cancel,
                        .btn-dialog-ok {
                            border-radius: 0.48rem;
                            border: 1px solid #cbd5e1;
                            background: #ffffff;
                            color: #475569;
                            font-weight: 600;
                            font-size: 0.9rem;
                            padding: 0.5rem 0.95rem;
                            cursor: pointer;
                        }
                        .btn-dialog-ok {
                            background: #047857;
                            border-color: #047857;
                            color: #ffffff;
                        }
                        .btn-dialog-ok.btn-danger {
                            background: #dc2626;
                            border-color: #dc2626;
                        }

